<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Natural &#8212; realHTML4Natural 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Html Parser" href="html-parser.html" />
    <link rel="prev" title="Webserver" href="webserver.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="natural">
<h1>Natural<a class="headerlink" href="#natural" title="Permalink to this headline">¶</a></h1>
<div class="section" id="parameter-data-area">
<span id="pda"></span><h2>Parameter Data Area<a class="headerlink" href="#parameter-data-area" title="Permalink to this headline">¶</a></h2>
<p>A parameter data area like this has to been defined. You don&#8217;t have to take this exact names but the type and length has to match.</p>
<div class="highlight-cobolfree"><div class="highlight"><pre><span></span><span class="mi">1 </span><span class="nv">HTTP_KEYS</span> <span class="p">(</span><span class="nv">A</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span><span class="o">*</span><span class="p">)</span>
<span class="mi">1 </span><span class="nv">HTTP_VALS</span> <span class="p">(</span><span class="nv">A</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span><span class="o">*</span><span class="p">)</span>
<span class="mi">1 </span><span class="nv">HTTP_VALS_LENGTH</span> <span class="p">(</span><span class="nv">I4</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span><span class="o">*</span><span class="p">)</span>
<span class="mi">1 </span><span class="nv">HTTP_PARM_COUNT</span> <span class="p">(</span><span class="nv">I4</span><span class="p">)</span>
<span class="mi">1 </span><span class="nv">HTTP_REQ_TYPE</span> <span class="p">(</span><span class="nv">A</span><span class="p">)</span> <span class="kp">DYNAMIC</span>

<span class="mi">1 </span><span class="nv">REALHTML_TMPFILE</span> <span class="p">(</span><span class="nv">A</span><span class="p">)</span> <span class="kp">DYNAMIC</span>
<span class="mi">1 </span><span class="nv">REALHTML_SETTINGS</span> <span class="p">(</span><span class="nv">A</span><span class="p">)</span> <span class="kp">DYNAMIC</span>
</pre></div>
</div>
<div class="section" id="explanation-parameter-data-area">
<h3>Explanation parameter data area<a class="headerlink" href="#explanation-parameter-data-area" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">variable name</th>
<th class="head">explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HTTP_KEYS</td>
<td>the variables HTTP_KEYS and HTTP_VALS belongs together. These two array form together a Key/Value Pair. &#8220;HTTP_VALS&#8221; includes the values from the GET or POST request</td>
</tr>
<tr class="row-odd"><td>HTTP_VALS</td>
<td>the value to the key in occurrence n</td>
</tr>
<tr class="row-even"><td>HTTP_VALS_LENGTH</td>
<td>the real length of the value in occurrence n</td>
</tr>
<tr class="row-odd"><td>HTTP_PARM_COUNT</td>
<td>includes own much entry the arrays HTTP_KEYS, HTTP_VALS and HTTP_VALS_LENGTH have</td>
</tr>
<tr class="row-even"><td>HTTP_REQ_TYPE</td>
<td>which HTTP request was received</td>
</tr>
<tr class="row-odd"><td>REALHTML_TMPFILE</td>
<td>just a internal variable. Contains the file which will be delivered to the browser</td>
</tr>
<tr class="row-even"><td>REALHTML_SETTINGS</td>
<td>just a long string which contains settings from the webserver configuration for the html parser</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="variables-for-the-template">
<span id="template-vars"></span><h2>Variables for the template<a class="headerlink" href="#variables-for-the-template" title="Permalink to this headline">¶</a></h2>
<p>You have to create a group named <strong>page</strong> in an external local data area (LDA). Every variable under this group is available in the template. You can redefine variables and create new subgroups.</p>
<div class="section" id="example">
<h3>Example:<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cobolfree"><div class="highlight"><pre><span></span><span class="nv">define</span> <span class="kr">data</span> <span class="nv">local</span>
<span class="mi">1 </span><span class="kp">page</span>
<span class="kp">   </span> <span class="mi">2 </span><span class="nv">daten</span> <span class="p">(</span><span class="nv">A128</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span><span class="mi">200</span><span class="p">)</span>
    <span class="mi">2 </span><span class="nv">isnnummer</span> <span class="p">(</span><span class="nv">A29</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span><span class="mi">200</span><span class="p">)</span>
    <span class="mi">2 </span><span class="nv">maxdatenid</span> <span class="p">(</span><span class="nv">I4</span><span class="p">)</span>
<span class="nv">end-define</span>
</pre></div>
</div>
</div>
<div class="section" id="supported-data-types">
<span id="datatypes"></span><h3>Supported data types<a class="headerlink" href="#supported-data-types" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="78%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">length</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Integer (I)</td>
<td>1/2/4</td>
</tr>
<tr class="row-odd"><td>Logical (L)</td>
<td>&#8212;-</td>
</tr>
<tr class="row-even"><td>Alphanumeric (A)</td>
<td>every/Dynamic</td>
</tr>
<tr class="row-odd"><td>Numeric (N) (Floating points are not supported yet)</td>
<td>every/Dynamic</td>
</tr>
<tr class="row-even"><td>Unicode (U)</td>
<td>every/Dynamic</td>
</tr>
</tbody>
</table>
<p>Every type can be also defined as 1D/2D or 3D arrays.</p>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<p>You also need two alphanumeric variable with the length of 20. One of them has to contain the LDA name which you are using to store the page group and the second must contain the name of the template you want to use.</p>
<div class="section" id="id1">
<h4>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cobolfree"><div class="highlight"><pre><span></span><span class="nv">define</span> <span class="kr">data</span>
<span class="kr">   </span> <span class="nv">local</span> <span class="kp">using</span> <span class="nv">your_lda</span>
    <span class="nv">local</span>
        <span class="mi">1 </span><span class="nv">realhtml_ldaname</span><span class="p">(</span><span class="nv">A20</span><span class="p">)</span>
        <span class="mi">1 </span><span class="nv">realhtml_template</span><span class="p">(</span><span class="nv">A20</span><span class="p">)</span>
 <span class="nv">end-define</span>

 <span class="kr">move </span><span class="s2">&quot;your_lda&quot;</span> <span class="kp">to</span> <span class="nv">realhtml_ldaname</span>
 <span class="kr">move </span><span class="s2">&quot;the_template.html&quot;</span> <span class="kp">to</span> <span class="nv">realhtml_template</span>
 <span class="kr">end</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="the-flipbuf-function">
<h2>The &#8220;flipbuf&#8221; function<a class="headerlink" href="#the-flipbuf-function" title="Permalink to this headline">¶</a></h2>
<p><strong>This function should now be obsolete beacuse in the current version the HTTP values are with a dynamic length so you don&#8217;t have trailing characters.</strong></p>
<p>The &#8220;flipbuf&#8221; function shift a specific number of digits from the beginning of the buffer to the end.</p>
<p>For example you want to search for a ISN number with a POST argument. The number in the POST value will be standing on the beginning of the buffer but the ISN number is sitting on the right. With the &#8220;value_length&#8221; (from the pda. See <a class="reference internal" href="#pda"><span class="std std-ref">Parameter Data Area</span></a>) variable you know how long the number is.</p>
<div class="section" id="arguments">
<h3>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="32%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">number</th>
<th class="head">type</th>
<th class="head">purpose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Numeric (N)</td>
<td>input buffer</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Numeric (N)</td>
<td>output buffer</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Integer (I4)</td>
<td>length of the number</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cobolfree"><div class="highlight"><pre><span></span><span class="nv">define</span> <span class="kr">data</span> <span class="nv">local</span>
   <span class="mi">1 </span><span class="nv">post_isn</span><span class="p">(</span><span class="nv">N19</span><span class="p">)</span> <span class="nv">init</span> <span class="o">&lt;</span><span class="s2">&quot;1200000000000000000&quot;</span><span class="o">&gt;</span> <span class="o">/*</span><span class="nv">The</span> <span class="kp">value</span> <span class="kp">from</span> <span class="nv">the</span> <span class="nv">post</span> <span class="nv">argument</span>
   <span class="mi">1 </span><span class="nv">post_length</span> <span class="p">(</span><span class="nv">I4</span><span class="p">)</span> <span class="nv">init</span> <span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span>
   <span class="mi">1 </span><span class="nv">right_isn</span><span class="p">(</span><span class="nv">N19</span><span class="p">)</span>
<span class="nv">end-define</span>

<span class="kr">call</span> <span class="nv">interface4</span> <span class="s2">&quot;flipbuf&quot;</span> <span class="nv">post_isn</span> <span class="nv">right_isn</span> <span class="nv">post_length</span>
<span class="c">* Now right_isn contains the following: &quot;0000000000000000012&quot;</span>
<span class="kr">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-setcookie-function">
<h2>The &#8220;setcookie&#8221; function<a class="headerlink" href="#the-setcookie-function" title="Permalink to this headline">¶</a></h2>
<p>Nothing to see here. Currently under development. This function will be used to set new cookies and send them to the browser.</p>
</div>
<div class="section" id="the-genpage-function">
<h2>The &#8220;genpage&#8221; function<a class="headerlink" href="#the-genpage-function" title="Permalink to this headline">¶</a></h2>
<p>The &#8220;genpage&#8221; function generate the html page out of the template.</p>
<div class="section" id="id3">
<h3>Arguments<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="30%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">number</th>
<th class="head">type</th>
<th class="head">purpose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Alphanumeric (A20)</td>
<td>name of the lda</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Alphanumeric (A20)</td>
<td>name of the template</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Alphanumeric (A100)</td>
<td>file path which the template engine should write to</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Alphanumeric (A Dynamic)</td>
<td>settings string</td>
</tr>
<tr class="row-even"><td>5</td>
<td>see <a class="reference internal" href="#datatypes"><span class="std std-ref">Supported data types</span></a></td>
<td>the page group from your lda</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>Example<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cobolfree"><div class="highlight"><pre><span></span><span class="nv">define</span> <span class="kr">data</span> <span class="nv">local</span>
    <span class="mi">1 </span><span class="nv">lda_name</span> <span class="p">(</span><span class="nv">A20</span><span class="p">)</span> <span class="nv">init</span> <span class="o">&lt;</span><span class="s2">&quot;mylda&quot;</span><span class="o">&gt;</span>
    <span class="mi">1 </span><span class="nv">template_name</span> <span class="p">(</span><span class="nv">A20</span><span class="p">)</span> <span class="nv">init</span> <span class="o">&lt;</span><span class="s2">&quot;mytemplate&quot;</span><span class="o">&gt;</span>
    <span class="mi">1 </span><span class="nv">output_file</span> <span class="p">(</span><span class="nv">A100</span><span class="p">)</span> <span class="nv">init</span> <span class="o">&lt;</span><span class="s2">&quot;/tmp/output.html&quot;</span><span class="o">&gt;</span>
    <span class="mi">1 </span><span class="nv">settings</span> <span class="p">(</span><span class="nv">A</span><span class="p">)</span> <span class="kp">DYNAMIC</span> <span class="nv">init</span> <span class="o">&lt;</span><span class="s2">&quot;templatepath=/tmp/templates/;debug=true&quot;</span><span class="o">&gt;</span>
    <span class="mi">1 </span><span class="kp">page </span><span class="o">/*</span> <span class="nv">this</span> <span class="nv">would</span> <span class="nv">be</span> <span class="kp">in</span> <span class="nv">your</span> <span class="kp">external</span> <span class="nv">lda</span>
        <span class="mi">2 </span><span class="nv">field-1</span> <span class="p">(</span><span class="nv">A10</span><span class="p">)</span>
        <span class="mi">2 </span><span class="nv">field-2</span> <span class="p">(</span><span class="nv">A10</span><span class="p">)</span>
<span class="nv">end-define</span>

<span class="kr">call</span> <span class="nv">interface4</span> <span class="s2">&quot;genpage&quot;</span> <span class="nv">lda_name</span> <span class="nv">template_name</span> <span class="nv">output_file</span> <span class="nv">settings</span> <span class="kp">page</span>
<span class="kr">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="complete-skeleton">
<h2>Complete skeleton<a class="headerlink" href="#complete-skeleton" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-subprogram">
<h3>The subprogram<a class="headerlink" href="#the-subprogram" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cobolfree"><div class="highlight"><pre><span></span><span class="nv">define</span> <span class="kr">data</span>
<span class="kr">    </span> <span class="nv">parameter</span> <span class="kp">using</span> <span class="nv">reqinfos</span> <span class="o">/*</span><span class="nv">request</span> <span class="nv">information</span>
     <span class="nv">local</span> <span class="kp">using</span> <span class="nv">testlda</span>
<span class="nv">end-define</span>

<span class="kr">move </span><span class="s2">&quot;testlda&quot;</span> <span class="kp">to</span> <span class="nv">realhtml_ldaname</span>
<span class="kr">move </span><span class="s2">&quot;testtemplate.html&quot;</span> <span class="kp">to</span> <span class="nv">realhtml_template</span>

<span class="o">/*</span> <span class="nv">your</span> <span class="kp">code</span> <span class="nv">goes</span> <span class="nv">here</span>

<span class="kr">call</span> <span class="nv">interface4</span> <span class="s2">&quot;genpage&quot;</span> <span class="nv">realhtml_ldaname</span> <span class="nv">realhtml_template</span>
                          <span class="nv">req_file</span> <span class="nv">req_settings</span> <span class="kp">page</span>
</pre></div>
</div>
</div>
<div class="section" id="the-lda">
<h3>The LDA<a class="headerlink" href="#the-lda" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cobolfree"><div class="highlight"><pre><span></span><span class="nv">define</span> <span class="kr">data</span> <span class="nv">local</span>
    <span class="mi">1 </span><span class="nv">realhtml_ldaname</span> <span class="p">(</span><span class="nv">A20</span><span class="p">)</span>
    <span class="mi">1 </span><span class="nv">realhtml_template</span> <span class="p">(</span><span class="nv">A20</span><span class="p">)</span>
    <span class="mi">1 </span><span class="kp">page</span>
<span class="kp">       </span> <span class="mi">2 </span><span class="nv">field-1</span> <span class="p">(</span><span class="nv">A10</span><span class="p">)</span>
        <span class="mi">2 </span><span class="nv">field-2</span> <span class="p">(</span><span class="nv">A20</span><span class="p">)</span>
<span class="nv">end-define</span>
</pre></div>
</div>
</div>
<div class="section" id="the-pda">
<h3>The PDA<a class="headerlink" href="#the-pda" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cobolfree"><div class="highlight"><pre><span></span><span class="nv">DEFINE</span> <span class="kr">DATA</span> <span class="nv">PARAMETER</span>
    <span class="mi">1 </span><span class="nv">HTTP_KEYS</span> <span class="p">(</span><span class="nv">A</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span><span class="o">*</span><span class="p">)</span>
    <span class="mi">1 </span><span class="nv">HTTP_VALS</span> <span class="p">(</span><span class="nv">A</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span><span class="o">*</span><span class="p">)</span>
    <span class="mi">1 </span><span class="nv">HTTP_VALS_LENGTH</span> <span class="p">(</span><span class="nv">I4</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span><span class="o">*</span><span class="p">)</span>
    <span class="mi">1 </span><span class="nv">HTTP_PARM_COUNT</span> <span class="p">(</span><span class="nv">I4</span><span class="p">)</span>
    <span class="mi">1 </span><span class="nv">HTTP_REQ_TYPE</span> <span class="p">(</span><span class="nv">A</span><span class="p">)</span> <span class="kp">DYNAMIC</span>

<span class="kp">   </span> <span class="mi">1 </span><span class="nv">REALHTML_TMPFILE</span> <span class="p">(</span><span class="nv">A</span><span class="p">)</span> <span class="kp">DYNAMIC</span>
<span class="kp">   </span> <span class="mi">1 </span><span class="nv">REALHTML_SETTINGS</span> <span class="p">(</span><span class="nv">A</span><span class="p">)</span> <span class="kp">DYNAMIC</span>
<span class="nv">END-DEFINE</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Natural</a><ul>
<li><a class="reference internal" href="#parameter-data-area">Parameter Data Area</a><ul>
<li><a class="reference internal" href="#explanation-parameter-data-area">Explanation parameter data area</a></li>
</ul>
</li>
<li><a class="reference internal" href="#variables-for-the-template">Variables for the template</a><ul>
<li><a class="reference internal" href="#example">Example:</a></li>
<li><a class="reference internal" href="#supported-data-types">Supported data types</a></li>
<li><a class="reference internal" href="#other">Other</a><ul>
<li><a class="reference internal" href="#id1">Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#the-flipbuf-function">The &#8220;flipbuf&#8221; function</a><ul>
<li><a class="reference internal" href="#arguments">Arguments</a></li>
<li><a class="reference internal" href="#id2">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-setcookie-function">The &#8220;setcookie&#8221; function</a></li>
<li><a class="reference internal" href="#the-genpage-function">The &#8220;genpage&#8221; function</a><ul>
<li><a class="reference internal" href="#id3">Arguments</a></li>
<li><a class="reference internal" href="#id4">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#complete-skeleton">Complete skeleton</a><ul>
<li><a class="reference internal" href="#the-subprogram">The subprogram</a></li>
<li><a class="reference internal" href="#the-lda">The LDA</a></li>
<li><a class="reference internal" href="#the-pda">The PDA</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="webserver.html" title="previous chapter">Webserver</a></li>
      <li>Next: <a href="html-parser.html" title="next chapter">Html Parser</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/natural.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Tom Engemann.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/natural.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>